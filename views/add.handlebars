<!DOCTYPE html> 
<html> 
<head> 
	<title>My Page</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
	<script src="https://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.js"></script>
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  	

</head> 
<body>

<div data-role="header">
		<a href="/mainpage" data-role="button" class="addbtn">Back</a>
		<h1 class="brand" style="font-size: 2em;">Mind Bud</h1>
</div><!-- /header -->

	
	<div role="main" class="ui-content">

	<form id="addItemForm">
		<h3>Add the details for this expense!</h3>
		
	    <div class="form-group">
	      <label for="name"> Item Name:</label>
	      <input type="text" class="form-control" id="myName" placeholder="e.g. Textbook" name="name">
	    </div>

	    <div class="form-group">
	      <label for="price">Item Price:</label>
	      <input type="number" class="form-control" id="myPrice" placeholder="e.g. 25.00" name="price" step=".01">
	    </div>
	    <div class="form-group">
	    <fieldset class"form-check" data-role="controlgroup">
			<legend>Categorize this expense:</legend>
	     	<input type="radio" name="category" id="need" value="Need" checked="checked"/>
	     	<label for="need">Need</label>

	     	<input type="radio" name="category" id="treat" value="Treat"/>
	     	<label for="treat">Treat</label>

	     	<input type="radio" name="category" id="other" value="Other"/>
	     	<label for="other">Other</label>
		</fieldset>
		</div>
		
	</form>	
	<button type="submit" id="submitButton">Submit</button>				
	</div><!-- /content -->

	<script type="text/javascript">

	var category;
	if(document.getElementById("need").checked = true) {
        category = document.getElementById("need").value;
	} else if (document.getElementById("treat").checked = true) {
        category = document.getElementById("treat").value;
    } else {
    	category = document.getElementById("other").value;
    }
        //create this naming for Jquery 1.3.2 version

	 	$('#submitButton').one('click', function(e){
	 		e.preventDefault();
	 		var data = $('#addItemForm').serialize();
            console.log("click twice");
	 		$.ajax({
	            type: "POST",
	            url: "/expenseAdded",
	            data: data,
	            success: function(response) {
	            	console.log("successresp:")
	                 console.log(response)
	            }
	        });
	        window.location.href = '/newAdd';
	 	});
	 </script>
    <script src="https://code.jquery.com/jquery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="js/add.js"></script>
</body>
</html>